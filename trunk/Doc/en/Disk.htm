<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML lang="en">
<HEAD>
 <LINK rel="StyleSheet" href="../BBWin.css">
 <TITLE>Disk</TITLE>
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="copyright" content="Copyright &copy; 2007 by Etienne Grignon. Licenced under GPL.">
</HEAD>
<BODY>
 <H1>Disk</H1>
 <H3>Description</H3>
<p>
Disk agent is used to monitor disk usage. It can also monitor mount points. Name too long for mount points are truncated.
</p>
<H3>Configuration</H3>
<UL>
 <LI><b>setting</b> directive syntax :
<br />
<table><tr><td>
<pre class="Config">
&lt;setting name="" value="" /&gt;
</pre>
</td></tr></table>
<LI>generic settings
<br /><br />
<table class="TableGrid" cellSpacing="0" cellPadding="0" border="1">
	<tr>
		<th>name</th>
		<th>value</th>
	</tr>
	<tr>
		<td>alwaysgreen</td>
		<td>
			Possible values are "true" or "false". If true, it will always send green status.
			<b>Default is false</b>.
		</td>
	</tr>
	<tr>
		<td>cdrom</td>
		<td>
			Possible values are "true" or "false". If true, it will check than cdrom drives are empty. If a media is in, it will send an alert.
			You can monitor free space from CDROM drives by specifying a custom rule.
			<b>Default is false</b>.
		</td>
	</tr>
	<tr>
		<td>remote</td>
		<td>
			Possible values are "true" or "false". If true, it will check network drive usagespace. It will send alarms as local drives.
			<b>Default is false</b>.
			<b>It only works for network drives which are created under Services which run under LocalSystem</b>.
		</td>
	</tr>
	<tr>
		<td>testname</td>
		<td>
			You can set the testname that will be sent to the monitoring server (column name in
			the bbdisplay)
			<b>Default is "disk"</b>
		</td>
	</tr>
</table>
 <LI><b>rules</b> directive syntax :
<br />
<table><tr><td>
<pre class="Config">
&lt;setting name="" ignore="" warnlevel="" paniclevel="" /&gt;
</pre>
</td></tr></table>
<p>
If the name value is not one of the generic settings, then, disk will understand that it is a disk custom rule.
</p>
<br />
<table class="TableGrid" cellSpacing="0" cellPadding="0" border="1" id="table2">
	<tr>
		<th>Attribute</th>
		<th>Value</th>
	</tr>
	<tr>
		<td>ignore</td>
		<td>
			Possible values are "true" or "false". If true, it will ignore checks on the drive specified in the name attribute.
			<b>Default is false</b>
		</td>
	</tr>
	<tr>
		<td>name</td>
		<td>
			name attribute must be the drive letter or the shortname of a mount point of the drive to check.
			If name is "default", it will be the default settings for all drives.
			If the drive letter is for the dvd or cd rom drive. It will check the free space of the media. It can be useful to check if there is free space to burn data.
			<b>This parameter is required</b>
		</td>
	</tr>
	<tr>
		<td>warnlevel</td>
		<td>
			It must be a numeric value. It will warn yellow if the value is reached.
			Size can be expressed in percentile with "%" or in size unit. ("m" for megabytes, "g" for gigabyte, "t" for terabyte).<br />
			<b>If no letter is specified, default unit is percentile.
			Default value is 90%.</b>
		</td>
	</tr>
	<tr>                                                        
		<td>paniclevel</td>
		<td>
			It must be a numeric value. It will warn red if the value is reached.
			Size can be expressed in percentile with "%" or in size unit. ("m" for megabytes, "g" for gigabyte, "t" for terabyte).<br />
			<b>If no letter is specified, default unit is percentile.
			Default value is 95%.</b>
		</td>
	</tr>
</table>
</UL>
<H3>Examples</H3>
<table><tr><td>
<pre class="Config">
&lt;disk&gt;
	&lt;setting name="alwaysgreen" value="false" /&gt;
	&lt;setting name="default" warnlevel="85%" paniclevel="95%" /&gt;
	&lt;setting name="C" warnlevel="70%" paniclevel="400mb" /&gt;
	&lt;setting name="E" ignore="true" /&gt;
	&lt;setting name="remote" value="false" /&gt;
	&lt;setting name="cdrom" value="false" /&gt;
&lt;/disk&gt;
</pre>
</td></tr></table>
<H3>Notes</H3>
<UL>
 <LI>If a custum rule doesn't match any drive, it will generate an alert since it can be a known harddrive which desappeared. (For example, an external usb harddrive 
  turned off on the server).
</UL>
</BODY>
</HTML>
